# ==========================================
# Telegram Bot Configuration
# ==========================================

# Get your bot token from @BotFather on Telegram
# Example: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Your bot username (without @)
# Example: my_claude_bot
TELEGRAM_BOT_USERNAME=your_bot_username

# ==========================================
# Security Settings
# ==========================================

# Base directory where bot can access files (sandbox)
# Should point to your git repository
# Example: /home/username/telegram-bot/my-project
APPROVED_DIRECTORY=/home/YOUR_USERNAME/telegram-bot/YOUR_REPO

# Telegram user IDs allowed to use the bot (JSON array)
# Get your user ID from @userinfobot on Telegram
# Example: [123456789, 987654321]
ALLOWED_USERS=[YOUR_TELEGRAM_USER_ID]

# ==========================================
# Claude Code CLI Settings
# ==========================================

# Use Claude Code CLI subprocess instead of SDK
# Keep this as false (recommended)
USE_SDK=false

# Claude model to use: sonnet, opus, or haiku
# sonnet: Balanced performance and cost (default)
# opus: Most capable, higher cost
# haiku: Fastest and cheapest
CLAUDE_MODEL=sonnet

# Maximum number of turns (back-and-forth iterations) Claude can take
# Higher values allow Claude to work more independently on complex tasks
CLAUDE_MAX_TURNS=10

# Maximum cost per user in USD
# Prevent excessive API usage
CLAUDE_MAX_COST_PER_USER=10.0

# Timeout for Claude commands in seconds
CLAUDE_TIMEOUT_SECONDS=300

# Tools that Claude can use (JSON array)
# Add or remove tools based on your needs
# Available tools: Read, Write, Edit, Bash, Glob, Grep, Task, WebFetch, WebSearch, TodoWrite, Skill, SlashCommand, AskUserQuestion
CLAUDE_ALLOWED_TOOLS=["Read","Write","Edit","Bash","Glob","Grep","Task","WebFetch","WebSearch","TodoWrite","Skill","SlashCommand","AskUserQuestion"]

# ==========================================
# Rate Limiting
# ==========================================

# Maximum requests per window
RATE_LIMIT_REQUESTS=10

# Rate limit window in seconds
RATE_LIMIT_WINDOW=60

# ==========================================
# Features
# ==========================================

# Allow users to upload files via Telegram
ENABLE_FILE_UPLOADS=true

# ==========================================
# Heartbeat / Internal Monologue
# ==========================================

# Enable heartbeat monitoring (sends internal monologue to Claude during silence)
HEARTBEAT_ENABLED=true

# Seconds of silence before triggering heartbeat (default: 300 = 5 minutes)
HEARTBEAT_INTERVAL_SECONDS=300

# Message to send to Claude as internal monologue
HEARTBEAT_MESSAGE=Hi, this is your internal monologue. Nothing has happened recently. You can choose not to do anything, but you have agency and may act independently if you want to.

# ==========================================
# Development
# ==========================================

# Enable debug mode (more verbose logging)
DEBUG=false

# Console logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Optional: Log file path (leave empty to disable file logging)
# Example: /var/log/telegram-bot/bot.log or logs/bot.log
LOG_FILE=

# File logging level (only used if LOG_FILE is set)
# Typically set to DEBUG for detailed file logs while keeping console at INFO
LOG_FILE_LEVEL=DEBUG

# ==========================================
# Database
# ==========================================

# SQLite database file path (use absolute path recommended)
# Stores session persistence, process tracking, and error logs
# Example: sqlite:////home/username/telegram-bot/bot/data/telegram_bot.db
DATABASE_URL=sqlite:///telegram_bot.db

# ==========================================
# IMPORTANT NOTES
# ==========================================

# 1. ALLOWED_USERS and CLAUDE_ALLOWED_TOOLS must be JSON arrays: ["item1","item2"]
# 2. Do NOT commit your actual .env file to git (it contains secrets)
# 3. Copy this file to .env and fill in your values
# 4. Make sure your git repository on the VM has SSH keys or PAT configured
# 5. Authenticate Claude CLI before starting: claude auth login
